<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>NovaDrop Winkel</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <meta name="description" content="NovaDrop - Lichte, snelle dropshipping winkel in het Nederlands">
  <style>
    :root{
      --bg:#f7fafc;
      --card:#ffffff;
      --muted:#64748b;
      --accent:#2563eb;
      --accent-2:#06b6d4;
      --glass:rgba(15,23,42,0.04);
      --text:#0f1724;
      --success:#16a34a;
      --danger:#ef4444;
    }
    *{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;background:linear-gradient(180deg,#fbfdff 0%,#f7fafc 100%);color:var(--text);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
    .wrap{max-width:1200px;margin:28px auto;padding:0 18px}
    header{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#60a5fa);display:flex;align-items:center;justify-content:center;font-weight:800;color:#fff;font-size:18px;box-shadow:0 8px 24px rgba(37,99,235,0.12)}
    nav{display:flex;gap:14px;align-items:center}
    nav a{color:var(--muted);text-decoration:none;padding:8px 12px;border-radius:10px;font-weight:600}
    nav a.active{background:rgba(37,99,235,0.08);color:var(--accent)}
    .hero{display:flex;gap:20px;align-items:center;margin-top:20px;flex-wrap:wrap}
    .hero-card{flex:1;min-width:260px;background:var(--card);padding:22px;border-radius:14px;box-shadow:0 8px 30px rgba(15,23,42,0.04);border:1px solid rgba(2,6,23,0.03)}
    h1{margin:0;font-size:30px}
    p.lead{color:var(--muted);margin:12px 0 18px;font-size:15px}
    .cta{display:flex;gap:10px}
    .btn{background:linear-gradient(90deg,var(--accent),#60a5fa);padding:10px 14px;border-radius:10px;color:#fff;font-weight:700;border:none;cursor:pointer;transition:transform .12s ease}
    .btn.ghost{background:transparent;border:1px solid rgba(15,23,42,0.06);color:var(--text)}
    .searchbar{margin-top:14px;display:flex;gap:10px}
    .searchbar input{flex:1;padding:10px 12px;border-radius:10px;border:1px solid rgba(15,23,42,0.06);background:transparent;color:var(--text);font-weight:600}
    .controls{display:flex;gap:10px;align-items:center}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;margin-top:20px}
    .card{background:var(--card);border-radius:12px;padding:12px;border:1px solid rgba(2,6,23,0.04);transition:transform .14s ease,box-shadow .14s ease}
    .card:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(2,6,23,0.06)}
    .thumb{height:160px;border-radius:10px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:#f1f5f9}
    .thumb img{max-width:100%;max-height:100%;object-fit:cover}
    .title{font-weight:700;margin-top:10px}
    .price{font-weight:800;margin-top:6px}
    .tag{background:rgba(37,99,235,0.06);color:var(--accent);padding:6px 8px;border-radius:8px;font-size:12px}
    .sidebar{position:fixed;right:18px;bottom:18px;background:var(--card);border-radius:14px;padding:10px 12px;box-shadow:0 12px 40px rgba(2,6,23,0.06);border:1px solid rgba(2,6,23,0.04)}
    .cart-icon{display:flex;align-items:center;gap:8px}
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:16px}
    .modal.active{display:flex}
    .modal-card{width:100%;max-width:760px;background:var(--card);border-radius:12px;padding:14px;border:1px solid rgba(2,6,23,0.04)}
    .footer{margin-top:28px;padding:18px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.6),transparent);display:flex;justify-content:space-between;align-items:center}
    .row{display:flex;gap:12px;align-items:center}
    .dropdown{position:relative}
    .dropdown button{background:transparent;border:1px solid rgba(2,6,23,0.04);padding:8px 10px;border-radius:10px;cursor:pointer}
    .menu{position:absolute;right:0;top:110%;background:var(--card);border:1px solid rgba(2,6,23,0.04);box-shadow:0 10px 30px rgba(2,6,23,0.06);border-radius:10px;padding:8px;display:none;min-width:160px}
    .menu.active{display:block}
    .menu button{display:block;width:100%;text-align:left;background:transparent;border:0;padding:8px;border-radius:8px;cursor:pointer}
    .badge{padding:6px 8px;border-radius:8px;font-weight:700;font-size:12px}
    @media(max-width:920px){.grid{grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}}
    @media(max-width:600px){header{flex-direction:column;align-items:flex-start}nav{width:100%;overflow:auto}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">ND</div>
        <div>
          <div style="font-weight:800;font-size:15px">NovaDrop</div>
          <div style="font-size:12px;color:var(--muted);margin-top:2px">Geselecteerde gadgets & lifestyle</div>
        </div>
      </div>
      <nav id="main-nav">
        <a href="#/home" data-route="/home">Home</a>
        <a href="#/producten" data-route="/producten">Producten</a>
        <a href="#/over" data-route="/over">Over</a>
        <a href="#/contact" data-route="/contact">Contact</a>
        <a href="#/account" data-route="/account">Account</a>
        <a id="view-cart" href="#/cart" data-route="/cart" class="tag">Winkelwagen <span id="cart-count">0</span></a>
      </nav>
    </header>

    <main id="app">
      <section id="home-view" class="hero">
        <div class="hero-card">
          <h1>Trending picks. Snelle verzending. Blije klanten.</h1>
          <p class="lead">Start snel met deze lichtgewicht winkel. Test producten, verkoop en optimaliseer.</p>
          <div class="cta">
            <button class="btn" id="start-shop">Begin met winkelen</button>
            <div class="dropdown">
              <button id="theme-toggle">Licht thema</button>
              <div class="menu" id="theme-menu">
                <button data-theme="light">Licht</button>
                <button data-theme="dark">Donker</button>
              </div>
            </div>
          </div>
          <div class="searchbar">
            <input id="search" placeholder="Zoek producten, b.v. draadloze oplader" />
            <button class="btn" id="search-btn">Zoeken</button>
            <div class="dropdown">
              <button id="sort-btn">Sorteer</button>
              <div class="menu" id="sort-menu">
                <button data-sort="popular">Meest populair</button>
                <button data-sort="price-asc">Prijs ↑</button>
                <button data-sort="price-desc">Prijs ↓</button>
                <button data-sort="new">Nieuw</button>
              </div>
            </div>
          </div>
        </div>
        <div class="hero-card" style="min-width:300px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="font-weight:800">Aanbevolen</div>
            <div class="tag">Beperkt</div>
          </div>
          <img src="https://picsum.photos/seed/featured/800/600" style="width:100%;border-radius:10px;margin-top:12px;height:220px;object-fit:cover" loading="lazy" alt="Featured">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
            <div style="font-weight:800">UltraFast Oplader</div>
            <div style="font-weight:800">€29,00</div>
          </div>
          <div style="margin-top:10px;display:flex;gap:8px">
            <button class="btn" id="featured-add">Toevoegen</button>
            <button class="btn ghost" id="featured-view">Bekijk</button>
          </div>
        </div>
      </section>

      <section id="producten-view" style="display:none">
        <div style="display:flex;justify-content:space-between;align-items:end;margin-top:18px">
          <h2 style="margin:0">Producten</h2>
          <div style="color:var(--muted)">Weergeven: <span id="shown-count">0</span></div>
        </div>
        <div class="controls" style="margin-top:12px">
          <div class="dropdown">
            <button id="filter-btn">Filters</button>
            <div class="menu" id="filter-menu">
              <button data-filter="all">Alles</button>
              <button data-filter="bestseller">Bestsellers</button>
              <button data-filter="eco">Eco</button>
              <button data-filter="office">Office</button>
            </div>
          </div>
          <div style="margin-left:auto;display:flex;gap:8px">
            <button class="btn ghost" id="grid-refresh">Ververs</button>
          </div>
        </div>
        <div class="grid" id="product-grid"></div>
      </section>

      <section id="product-detail-view" style="display:none;margin-top:18px">
        <div class="modal-card" id="product-detail-card">
          <div style="display:flex;gap:12px;flex-wrap:wrap">
            <div style="flex:1;min-width:240px">
              <img id="detail-img" src="" style="width:100%;height:320px;object-fit:cover;border-radius:12px" alt="">
            </div>
            <div style="flex:1;min-width:240px;display:flex;flex-direction:column;gap:10px">
              <div id="detail-title" style="font-size:20px;font-weight:800"></div>
              <div id="detail-price" style="font-size:18px;font-weight:900;color:var(--accent)"></div>
              <div id="detail-desc" style="color:var(--muted)"></div>
              <div style="display:flex;gap:8px;align-items:center">
                <label>Aantal</label>
                <input id="detail-qty" type="number" min="1" value="1" style="width:70px;padding:8px;border-radius:8px;border:1px solid rgba(2,6,23,0.05)"/>
              </div>
              <div style="display:flex;gap:8px">
                <button class="btn" id="detail-add">Toevoegen aan winkelwagen</button>
                <button class="btn ghost" id="detail-buy">Direct kopen</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="cart-view" style="display:none;margin-top:18px">
        <div class="modal-card">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="font-weight:800">Winkelwagen</div>
            <div id="cart-actions"></div>
          </div>
          <div id="cart-items" style="margin-top:12px"></div>
          <div id="cart-total" style="margin-top:12px;display:flex;justify-content:space-between;align-items:center"></div>
        </div>
      </section>

      <section id="over-view" style="display:none;margin-top:18px">
        <div class="hero-card">
          <h3 style="margin-top:0">Waarom NovaDrop?</h3>
          <p class="lead">Snel, eenvoudig en conversiegericht. Perfect voor testcampagnes en kleine shops.</p>
          <div style="display:flex;gap:12px;margin-top:12px;flex-wrap:wrap">
            <div style="flex:1;min-width:180px;background:var(--card);padding:14px;border-radius:10px">Geselecteerde leveranciers</div>
            <div style="flex:1;min-width:180px;background:var(--card);padding:14px;border-radius:10px">Geautomatiseerde tracking</div>
            <div style="flex:1;min-width:180px;background:var(--card);padding:14px;border-radius:10px">Conversieklaar</div>
          </div>
        </div>
      </section>

      <section id="contact-view" style="display:none;margin-top:18px">
        <div class="hero-card">
          <h3 style="margin-top:0">Contact</h3>
          <form id="contact-form" style="display:flex;flex-direction:column;gap:8px" onsubmit="return false;">
            <input id="c-name" placeholder="Naam" />
            <input id="c-email" placeholder="E-mail" />
            <textarea id="c-msg" placeholder="Bericht" style="min-height:100px;padding:10px;border-radius:8px;border:1px solid rgba(2,6,23,0.04)"></textarea>
            <div style="display:flex;gap:8px;justify-content:flex-end">
              <button class="btn" id="contact-send">Verstuur</button>
            </div>
          </form>
        </div>
      </section>

      <section id="account-view" style="display:none;margin-top:18px">
        <div class="hero-card">
          <h3 style="margin-top:0">Account</h3>
          <div id="account-area">
            <div style="color:var(--muted)">Je bent niet ingelogd.</div>
            <div style="margin-top:10px;display:flex;gap:8px">
              <button class="btn" id="login-btn">Inloggen</button>
              <button class="btn ghost" id="register-btn">Registreren</button>
            </div>
          </div>
        </div>
      </section>
    </main>

    <div class="sidebar" aria-hidden="false">
      <div style="display:flex;gap:10px;align-items:center">
        <div class="cart-icon">🛒 <strong id="mini-count">0</strong></div>
        <div style="font-weight:700">Winkelwagen</div>
        <div style="margin-left:8px"><button class="btn ghost" id="open-cart">Bekijk</button></div>
      </div>
    </div>

    <div class="modal" id="toast" aria-hidden="true">
      <div class="modal-card" id="toast-card" style="width:320px;text-align:center;display:none"></div>
    </div>

    <footer class="footer">
      <div>
        <div style="font-weight:800">NovaDrop</div>
        <div style="color:var(--muted);margin-top:6px;font-size:13px">Licht thema · Geoptimaliseerd voor verkoop</div>
      </div>
      <div style="display:flex;gap:12px;align-items:center">
        <div style="color:var(--muted);font-size:13px">© NovaDrop 2025</div>
        <a href="#/privacy" class="tag">Privacy</a>
        <a href="#/terms" class="tag">Voorwaarden</a>
      </div>
    </footer>
  </div>

  <script>
    const PRODUCTS = [
      {id:1,title:'Preview Product 1',price:29.00,tag:'Bestseller',img:'https://picsum.photos/seed/p1/800/600',desc:'Een voorbeeldproduct dat perfect is om snel te testen.'},
      {id:2,title:'Preview Product 2',price:34.50,tag:'Limited',img:'https://picsum.photos/seed/p2/800/600',desc:'Beperkte oplage — goed voor urgency tests.'},
      {id:3,title:'Preview Product 3',price:19.99,tag:'Hot',img:'https://picsum.photos/seed/p3/800/600',desc:'Populair en betaalbaar.'},
      {id:4,title:'Preview Product 4',price:45.00,tag:'Eco',img:'https://picsum.photos/seed/p4/800/600',desc:'Duurzaam en stijlvol.'},
      {id:5,title:'Preview Product 5',price:22.00,tag:'Trending',img:'https://picsum.photos/seed/p5/800/600',desc:'Actuele trend - converteert goed.'},
      {id:6,title:'Preview Product 6',price:39.90,tag:'Office',img:'https://picsum.photos/seed/p6/800/600',desc:'Handig voor werk en thuis.'},
      {id:7,title:'Preview Product 7',price:12.50,tag:'Daily',img:'https://picsum.photos/seed/p7/800/600',desc:'Dagelijks bruikbaar.'},
      {id:8,title:'Preview Product 8',price:27.00,tag:'Style',img:'https://picsum.photos/seed/p8/800/600',desc:'Modern design, goede reviews.'}
    ];

    const currency = new Intl.NumberFormat('nl-BE', { style: 'currency', currency: 'EUR' });
    const $ = (s, c=document) => c.querySelector(s);
    const $$ = (s, c=document) => Array.from(c.querySelectorAll(s));
    const storage = {
      get(k){try{return JSON.parse(localStorage.getItem(k))}catch(e){return null}},
      set(k,v){try{localStorage.setItem(k,JSON.stringify(v))}catch(e){}}
    };
    let CART = storage.get('nd_cart') || {};
    function updateCartStorage(){storage.set('nd_cart',CART)}
    function cartCount(){return Object.values(CART).reduce((s,i)=>s+i.qty,0)}
    function formatPrice(n){return currency.format(n)}
    function navSet(route){
      $$('#main-nav a').forEach(a=>a.classList.toggle('active', a.getAttribute('data-route')===route));
    }
    function showView(id){
      $('#home-view').style.display='none';
      $('#producten-view').style.display='none';
      $('#product-detail-view').style.display='none';
      $('#cart-view').style.display='none';
      $('#over-view').style.display='none';
      $('#contact-view').style.display='none';
      $('#account-view').style.display='none';
      if(id==='home') $('#home-view').style.display='flex';
      if(id==='producten') $('#producten-view').style.display='block';
      if(id==='detail') $('#product-detail-view').style.display='block';
      if(id==='cart') $('#cart-view').style.display='block';
      if(id==='over') $('#over-view').style.display='block';
      if(id==='contact') $('#contact-view').style.display='block';
      if(id==='account') $('#account-view').style.display='block';
    }
    function router(){
      const hash = location.hash.replace('#','') || '/home';
      const route = hash.split('?')[0];
      if(route.startsWith('/products') || route.startsWith('/producten')){navSet('/producten');showView('producten');renderProducts(currentList);}
      else if(route.startsWith('/product/')){navSet('');showView('detail');const id = Number(route.split('/')[2]); openDetailById(id)}
      else if(route.startsWith('/cart')){navSet('/cart');showView('cart');renderCartView()}
      else if(route.startsWith('/over')){navSet('/over');showView('over')}
      else if(route.startsWith('/contact')){navSet('/contact');showView('contact')}
      else if(route.startsWith('/account')){navSet('/account');showView('account')}
      else{navSet('/home');showView('home')}
    }
    let currentList = PRODUCTS.slice();
    function renderProducts(list){
      const grid = $('#product-grid');
      const frag = document.createDocumentFragment();
      list.forEach(p=>{
        const el = document.createElement('div');
        el.className='card';
        el.innerHTML = `<div class="thumb"><img src="${p.img}" alt="${p.title}" loading="lazy"></div><div class="title">${p.title}</div><div class="price">${formatPrice(p.price)}</div><div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px"><div class="tag">${p.tag}</div><div style="display:flex;gap:8px"><button class="cart-btn" data-id="${p.id}">Toevoegen</button><button class="view-btn btn ghost" data-id="${p.id}">Bekijk</button></div></div>`;
        frag.appendChild(el);
      });
      grid.innerHTML='';grid.appendChild(frag);
      $('#shown-count').textContent = list.length;
    }
    function addToCart(id, qty=1){
      const p = PRODUCTS.find(x=>x.id===id);
      if(!p) return;
      if(!CART[id]) CART[id] = {...p, qty:0};
      CART[id].qty += qty;
      updateCartStorage();
      updateCartUI();
      toast(`${p.title} toegevoegd (${qty})`);
    }
    function changeQty(id,delta){
      if(!CART[id]) return;
      CART[id].qty += delta;
      if(CART[id].qty < 1) delete CART[id];
      updateCartStorage();
      updateCartUI();
      renderCartView();
    }
    function removeFromCart(id){
      if(CART[id]) delete CART[id];
      updateCartStorage();
      updateCartUI();
      renderCartView();
    }
    function updateCartUI(){
      $('#cart-count').textContent = cartCount();
      $('#mini-count').textContent = cartCount();
    }
    function renderCartView(){
      const items = Object.values(CART);
      const container = $('#cart-items');
      container.innerHTML = '';
      let total = 0;
      if(items.length===0){
        container.innerHTML = '<div style="color:var(--muted)">Je winkelwagen is leeg</div>';
        $('#cart-total').innerHTML = '';
        $('#cart-actions').innerHTML = '';
        return;
      }
      items.forEach(it=>{
        total += it.price * it.qty;
        const row = document.createElement('div');
        row.style.display='flex';
        row.style.justifyContent='space-between';
        row.style.alignItems='center';
        row.style.padding='8px 0';
        row.innerHTML = `<div style="display:flex;gap:12px;align-items:center"><img src="${it.img}" style="height:56px;width:72px;object-fit:cover;border-radius:8px"><div><div style="font-weight:700">${it.title}</div><div style="color:var(--muted)">${formatPrice(it.price)}</div></div></div><div style="display:flex;align-items:center;gap:8px"><button data-dec="${it.id}" class="cart-dec">-</button><div>${it.qty}</div><button data-inc="${it.id}" class="cart-inc">+</button><button data-rem="${it.id}" class="cart-rem" style="margin-left:8px;color:var(--danger);background:transparent;border:0;cursor:pointer">Verwijder</button></div>`;
        container.appendChild(row);
      });
      $('#cart-total').innerHTML = `<div style="font-weight:800">Totaal: ${formatPrice(total)}</div><div style="display:flex;gap:8px"><button class="btn" id="checkout-btn">Afrekenen</button><button class="btn ghost" id="clear-cart">Leegmaken</button></div>`;
      $('#cart-actions').innerHTML = '';
      $$('.cart-inc', container).forEach(b=>b.addEventListener('click', e=>{const id=Number(e.target.dataset.inc); changeQty(id,1)}));
      $$('.cart-dec', container).forEach(b=>b.addEventListener('click', e=>{const id=Number(e.target.dataset.dec); changeQty(id,-1)}));
      $$('.cart-rem', container).forEach(b=>b.addEventListener('click', e=>{const id=Number(e.target.dataset.rem); removeFromCart(id)}));
      $('#checkout-btn').addEventListener('click', ()=>{openCheckoutForm(items,total)});
      $('#clear-cart').addEventListener('click', ()=>{CART={}; updateCartStorage(); updateCartUI(); renderCartView();});
    }
    function openCheckoutForm(items,total){
      const dlg = document.createElement('div');
      dlg.style.position='fixed';
      dlg.style.inset='0';
      dlg.style.display='flex';
      dlg.style.alignItems='center';
      dlg.style.justifyContent='center';
      dlg.style.background='rgba(2,6,23,0.5)';
      dlg.innerHTML = `<div style="width:100%;max-width:640px;background:var(--card);padding:18px;border-radius:12px"><div style="display:flex;justify-content:space-between;align-items:center"><div style="font-weight:800">Afrekenen</div><button id="close-co" style="background:transparent;border:0;cursor:pointer">Sluiten</button></div><form id="co-form" style="margin-top:12px;display:flex;flex-direction:column;gap:8px"><input id="co-name" placeholder="Naam" required><input id="co-email" placeholder="E-mail" type="email" required><input id="co-address" placeholder="Adres"><div style="display:flex;gap:8px;justify-content:flex-end;margin-top:8px"><button type="submit" class="btn">Plaats bestelling</button></div></form></div>`;
      document.body.appendChild(dlg);
      dlg.querySelector('#close-co').addEventListener('click', ()=>dlg.remove());
      dlg.querySelector('#co-form').addEventListener('submit', e=>{
        e.preventDefault();
        const name = dlg.querySelector('#co-name').value.trim();
        const email = dlg.querySelector('#co-email').value.trim();
        if(!email){ alert('E-mail is verplicht'); return; }
        alert(`Bestelling geplaatst! Bedankt ${name || 'klant'}. Totaal: ${formatPrice(total)}`);
        CART = {};
        updateCartStorage();
        updateCartUI();
        dlg.remove();
        renderCartView();
      });
    }
    function openDetailById(id){
      const p = PRODUCTS.find(x=>x.id===id);
      if(!p) return;
      $('#detail-img').src = p.img;
      $('#detail-title').textContent = p.title;
      $('#detail-price').textContent = formatPrice(p.price);
      $('#detail-desc').textContent = p.desc;
      $('#detail-qty').value = 1;
      $('#detail-add').onclick = ()=>{ const q = Math.max(1, Number($('#detail-qty').value)||1); addToCart(p.id,q) };
      $('#detail-buy').onclick = ()=>{ const q = Math.max(1, Number($('#detail-qty').value)||1); openCheckoutForm([{...p,qty:q}], p.price*q) };
      location.hash = `#/product/${p.id}`;
    }
    function openToast(msg, time=1600){
      const card = $('#toast-card');
      card.textContent = msg;
      card.style.display = 'block';
      $('#toast').style.display = 'flex';
      setTimeout(()=>{ card.style.display = 'none'; $('#toast').style.display='none' }, time);
    }
    function toast(msg){ openToast(msg) }
    function toggleMenu(btn, menu){
      btn.addEventListener('click', ()=> menu.classList.toggle('active'));
      document.addEventListener('click', e=>{ if(!btn.contains(e.target) && !menu.contains(e.target)) menu.classList.remove('active') });
    }
    function initUI(){
      const themeBtn = $('#theme-toggle');
      const themeMenu = $('#theme-menu');
      toggleMenu(themeBtn, themeMenu);
      $$('#theme-menu [data-theme]').forEach(b=>b.addEventListener('click', e=>{
        const t = e.target.getAttribute('data-theme');
        if(t==='dark'){ document.documentElement.style.setProperty('--bg','#061126'); document.documentElement.style.setProperty('--card','#071126'); document.documentElement.style.setProperty('--text','#e6eef8'); document.documentElement.style.setProperty('--muted','#94a3b8'); themeBtn.textContent='Donker thema' }
        else{ document.documentElement.style.removeProperty('--bg'); document.documentElement.style.removeProperty('--card'); document.documentElement.style.removeProperty('--text'); document.documentElement.style.removeProperty('--muted'); themeBtn.textContent='Licht thema' }
      }));
      const sortBtn = $('#sort-btn');
      const sortMenu = $('#sort-menu');
      toggleMenu(sortBtn, sortMenu);
      $$('#sort-menu button').forEach(b=>b.addEventListener('click', e=>{
        const s = e.target.getAttribute('data-sort');
        if(s==='price-asc') currentList.sort((a,b)=>a.price-b.price);
        if(s==='price-desc') currentList.sort((a,b)=>b.price-a.price);
        if(s==='popular') currentList.sort((a,b)=>b.id-b.id);
        if(s==='new') currentList = PRODUCTS.slice().reverse();
        renderProducts(currentList);
      }));
      const filterBtn = $('#filter-btn');
      const filterMenu = $('#filter-menu');
      toggleMenu(filterBtn, filterMenu);
      $$('#filter-menu button').forEach(b=>b.addEventListener('click', e=>{
        const f = e.target.getAttribute('data-filter');
        if(f==='all') currentList = PRODUCTS.slice();
        else currentList = PRODUCTS.filter(p=>p.tag.toLowerCase().includes(f));
        renderProducts(currentList);
      }));
      $('#start-shop').addEventListener('click', ()=>{ location.hash = '#/producten' });
      $('#search-btn').addEventListener('click', ()=>{ doSearch($('#search').value) });
      $('#search').addEventListener('keyup', e=>{ if(e.key==='Enter') doSearch(e.target.value) });
      $('#grid-refresh').addEventListener('click', ()=>{ renderProducts(currentList) });
      $('#open-cart').addEventListener('click', ()=>{ location.hash = '#/cart' });
      $('#featured-add').addEventListener('click', ()=>{ addToCart(1,1) });
      $('#featured-view').addEventListener('click', ()=>{ location.hash = '#/product/1' });
      $('#contact-send').addEventListener('click', ()=>{ const n = $('#c-name').value.trim(); const e = $('#c-email').value.trim(); const m = $('#c-msg').value.trim(); if(!e||!m){ alert('Vul e-mail en bericht in'); return; } alert('Bericht verzonden. Dank u.'); $('#contact-form').reset() });
      $('#login-btn').addEventListener('click', ()=>{ alert('Inloggen (demo)'); });
      $('#register-btn').addEventListener('click', ()=>{ alert('Registreren (demo)'); });
      $$('#main-nav a').forEach(a=>a.addEventListener('click', ()=>{}));
      $('#view-cart').addEventListener('click', e=>{ e.preventDefault(); location.hash = '#/cart' });
      document.body.addEventListener('click', e=>{
        const add = e.target.closest('.cart-btn');
        const view = e.target.closest('.view-btn');
        if(add){ const id = Number(add.dataset.id); addToCart(id,1) }
        if(view){ const id = Number(view.dataset.id); location.hash = `#/product/${id}` }
      });
    }
    function doSearch(q){
      const s = String(q||'').trim().toLowerCase();
      if(!s) currentList = PRODUCTS.slice();
      else currentList = PRODUCTS.filter(p=>p.title.toLowerCase().includes(s) || p.desc.toLowerCase().includes(s) || p.tag.toLowerCase().includes(s));
      renderProducts(currentList);
      location.hash = '#/producten';
    }
    window.addEventListener('hashchange', router);
    document.addEventListener('DOMContentLoaded', ()=>{
      renderProducts(PRODUCTS);
      updateCartUI();
      initUI();
      router();
    });
  </script>
</body>
</html>
